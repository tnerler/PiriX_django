{% load static %}
<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Piri Reis ChatBot</title>
    
    <!-- CSRF Token'Ä± meta tag olarak ekle -->
    <meta name="csrf-token" content="{{ csrf_token }}">

    <!-- CSS -->
    <link
      rel="stylesheet"
      href="{% static 'style.css' %}"
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins&display=swap"
      rel="stylesheet"
    />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/png"
      href="{% static 'img/piri_reis_logo.png' %}"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- CSRF Token'Ä± gizli input olarak da ekle -->
    {% csrf_token %}
    
    <!-- âœ¨ Chatbot Buton -->
    <div class="chatbot-toggle" onclick="toggleChat()">
      <!-- ğŸ’¬ KonuÅŸma Balonu -->
      <div class="chat-bubble" id="resize-handle">
        Merhaba! Size nasÄ±l yardÄ±mcÄ± olabilirim?
      </div>
      <img
        src="{% static 'maskot/denizci-yunus-maskot.png' %}"
        alt="ChatBot Logo"
      />
    </div>

    <!-- ğŸ“¢ Chat Kutusu -->
    <div class="chatbox" id="chatbox">
      <button class="maximize-btn" onclick="toggleMaximize()">
        <span id="maximize-icon">ğŸ—–</span>
      </button>
      <button class="close-btn" onclick="closeChatbox()">âœ–</button>
      <div class="chat-header" id="resize-handle">
        ğŸ’¬ PiriX - Yapay Zeka AsistanÄ±
        <div class="designer-link">
          <a href="https://www.instagram.com/prubilisim/" target="_blank">
            Designed by COMPRU
          </a>
        </div>
      </div>
      <div class="chat-messages" id="messages"></div>
      
      <div class="chat-input">
        <div class="input-wrapper">
          <input type="text" id="user-input" placeholder="Bir ÅŸeyler yazÄ±n..." />
          <p class="input-warning">
            PiriX hata yapabilir. Ã–nemli bilgileri kontrol edin.
          </p>
        </div>
        <button id="send-button" onclick="sendMessage()">GÃ¶nder</button>
      </div>
    </div>

    <!-- âœ… Toast mesajÄ± -->
    <div id="feedback-toast" style="display: none;">Geri bildiriminiz alÄ±ndÄ±, teÅŸekkÃ¼r ederiz!</div>

    <!-- CSRF Token'Ä± JavaScript global deÄŸiÅŸkeni olarak da tanÄ±mla -->
    <script>
      window.csrfToken = '{{ csrf_token }}';
    </script>

    <!-- MarkDown Efekti -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- ğŸ”¹ Uygulama Javascript'i -->
    <script src="{% static 'app.js' %}"></script>
  </body>
</html>